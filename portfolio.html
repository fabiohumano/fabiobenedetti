
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfólio | Fabio Benedetti</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #050505; color: #ffffff; }
        .bg-grain { position: fixed; inset: 0; background: url('https://grainy-gradients.vercel.app/noise.svg'); opacity: 0.02; pointer-events: none; z-index: 9999; }
        nav { background: rgba(0,0,0,0.5); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(255,255,255,0.05); }
        .work-card { border-bottom: 1px solid rgba(255,255,255,0.03); padding-bottom: 12rem; margin-bottom: 12rem; }
        .feature-box { border-radius: 2.5rem; overflow: hidden; background: #000; border: 1px solid rgba(255,255,255,0.03); box-shadow: 0 50px 100px -20px rgba(0,0,0,1); }
        iframe { width: 100%; height: 100%; border: 0; }
    </style>
</head>
<body>
    <div class="bg-grain"></div>

    <nav class="fixed top-0 left-0 w-full z-50 p-8 flex justify-between items-center">
        <a href="index.html" class="text-white no-underline font-bold tracking-tighter text-lg uppercase">FABIO BENEDETTI</a>
        <div class="flex gap-12 uppercase tracking-widest text-[9px] font-bold">
            <a href="index.html" class="text-neutral-500 hover:text-white transition-colors">Início</a>
            <a href="bio.html" class="text-neutral-500 hover:text-white transition-colors">Bio</a>
            <a href="portfolio.html" class="text-white">Portfólio</a>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto px-6 pt-56 pb-20">
        <header class="mb-48">
            <h1 class="text-7xl md:text-9xl font-bold tracking-tighter mb-10">Obras <br><span class="italic text-neutral-900">Assinadas.</span></h1>
            <p class="text-neutral-600 max-w-xl text-xl font-light leading-relaxed">Curadoria técnica dos projetos mais emblemáticos produzidos por Fabio Benedetti.</p>
        </header>
        <div id="portfolio-feed" class="space-y-40"></div>
    </main>

    <footer class="py-24 text-center border-t border-white/5 bg-black">
        <div id="dyn-footer-address" class="text-[9px] text-neutral-700 uppercase tracking-[0.4em] leading-loose">
            FABIO BENEDETTI | PRODUTOR MUSICAL<br>
            SAPUCAIA - RJ
        </div>
    </footer>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getFirestore, collection, onSnapshot, doc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = {
          apiKey: "AIzaSyDhSp-QPDZI2AbNrYdZO447NKTF2PMYjlQ",
          authDomain: "humano-studio.firebaseapp.com",
          projectId: "humano-studio",
          storageBucket: "humano-studio.firebasestorage.app",
          messagingSenderId: "938534325822",
          appId: "1:938534325822:web:abf5443336ce3224190b6f"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        onSnapshot(collection(db, "trabalhos"), (snapshot) => {
            const container = document.getElementById('portfolio-feed');
            let works = [];
            snapshot.forEach(doc => works.push({id: doc.id, ...doc.data()}));
            works.sort((a,b) => (a.ordem ?? 0) - (b.ordem ?? 0));
            container.innerHTML = '';
            works.forEach((item) => {
                let videoId = '';
                if (item.videoUrl) {
                    if (item.videoUrl.includes('v=')) videoId = item.videoUrl.split('v=')[1].split('&')[0];
                    else if (item.videoUrl.includes('youtu.be/')) videoId = item.videoUrl.split('youtu.be/')[1].split('?')[0];
                }
                container.innerHTML += `
                    <article class="work-card">
                        <h2 class="text-5xl md:text-8xl font-bold mb-16 tracking-tighter">${item.titulo}</h2>
                        <div class="grid lg:grid-cols-12 gap-20">
                            <div class="lg:col-span-8">
                                <div class="feature-box aspect-video mb-10">
                                    ${videoId ? `<iframe src="https://www.youtube.com/embed/${videoId}?rel=0" allowfullscreen></iframe>` : `<img src="${item.fotoUrl}" class="w-full h-full object-cover">`}
                                </div>
                                <div class="text-xl text-neutral-500 font-light leading-relaxed max-w-2xl">${item.descricao || ''}</div>
                            </div>
                            <div class="lg:col-span-4 flex flex-col justify-end">
                                <span class="text-[9px] uppercase tracking-widest text-neutral-700 font-bold mb-3">Timeline</span>
                                <span class="text-lg font-bold border-t border-white/5 pt-6">${item.data || '2025'}</span>
                            </div>
                        </div>
                    </article>
                `;
            });
        });

        onSnapshot(doc(db, "site_content", "settings"), (snap) => {
            if(snap.exists()) {
                const d = snap.data();
                if(d.footerAddress) document.getElementById('dyn-footer-address').innerHTML = d.footerAddress.replace(/\n/g, '<br>');
            }
        });
    </script>
</body>
</html>
